---
version: "3"

tasks:

  main:
    desc: ðŸ–¥ Main Windows play
    dir: provision/ansible
    cmds:
      - task: :doppler:generate-ansible-inventory
      - "{{.ANSIBLE_PLAYBOOK_CMD}} {{.ANSIBLE_PLAYBOOK_DIR}}/windows.yml {{.CLI_ARGS}}"

  # runtags:
  #   desc: ðŸ–¥ Run windows play tags
  #   dir: provision/ansible
  #   cmds:
  #     - task: :doppler:generate-ansible-inventory
  #     - "{{.ANSIBLE_PLAYBOOK_CMD}} --tags \"{{.CLI_ARGS}}\" -e \"{{.CLI_ARGS}}=true\" {{.ANSIBLE_PLAYBOOK_DIR}}/windows.yml"

  chocolatey:
    desc: ðŸ–¥ Run chocolatey tasks
    dir: provision/ansible
    cmds:
      - task: :doppler:generate-ansible-inventory
      - "{{.ANSIBLE_PLAYBOOK_CMD}} --tags \"chocolatey\" -e \"chocolatey=true\" {{.ANSIBLE_PLAYBOOK_DIR}}/windows.yml"
